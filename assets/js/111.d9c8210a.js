(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{479:function(t,a,s){"use strict";s.r(a);var n=s(4),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("TOC"),t._v(" "),s("h2",{attrs:{id:"描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#描述"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),s("p",[t._v("Ant Design 设计规范和技术上支持灵活的样式定制，以满足业务和品牌上多样化的视觉需求，包括但不限于全局样式（主色、圆角、边框）和指定组件的视觉定制。")]),t._v(" "),s("h2",{attrs:{id:"antd样式变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#antd样式变量"}},[t._v("#")]),t._v(" antd样式变量")]),t._v(" "),s("p",[t._v("antd 的样式使用了 Less 作为开发语言，并定义了一系列全局/组件的样式变量，你可以根据需求进行相应调整。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/ant-design/ant-design/blob/master/components/style/themes/default.less",target:"_blank",rel:"noopener noreferrer"}},[t._v("常用的样式变量"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-less extra-class"},[s("pre",{pre:!0,attrs:{class:"language-less"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@primary-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" #1890ff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局主色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@link-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" #1890ff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 链接色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@success-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" #52c41a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 成功色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@warning-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" #faad14"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 警告色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@error-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" #f5222d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@font-size-base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" 14px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主字号")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@heading-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.85"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标题色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@text-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.65"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主文本色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@text-color-secondary "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" .45"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 次文本色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@disabled-color "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" .25"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 失效色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@border-radius-base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" 4px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件/浮层圆角")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@border-color-base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" #d9d9d9"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 边框色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@box-shadow-base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")])]),t._v(" 0 2px 8px "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.15"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浮层阴影")]),t._v("\n")])])]),s("h2",{attrs:{id:"定制方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定制方式"}},[t._v("#")]),t._v(" 定制方式")]),t._v(" "),s("p",[t._v("原理上是使用 less 提供的 modifyVars 的方式进行覆盖变量，可以在本地运行 例子 查看定制效果。下面将针对不同的场景提供一些常用的定制方式。")]),t._v(" "),s("h3",{attrs:{id:"在webpack中定制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在webpack中定制"}},[t._v("#")]),t._v(" 在webpack中定制")]),t._v(" "),s("p",[t._v("我们以 webpack@4 为例进行说明，以下是一个 webpack.config.js 的典型例子，对 less-loader 的 options 属性进行相应配置。")]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// webpack.config.js\nmodule.exports = {\n  rules: [{\n    test: /\\.less$/,\n    use: [{\n      loader: 'style-loader',\n    }, {\n      loader: 'css-loader', // translates CSS into CommonJS\n    }, {\n      loader: 'less-loader', // compiles Less to CSS\n+     options: {\n+       modifyVars: {\n+         'primary-color': '#1DA57A',\n+         'link-color': '#1DA57A',\n+         'border-radius-base': '2px',\n+         // or\n+         'hack': `true; @import \"your-less-file-path.less\";`, // Override with less file\n+       },\n+       javascriptEnabled: true,\n+     },\n    }],\n    // ...other rules\n  }],\n  // ...other config\n}\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("注意 less-loader 的处理范围不要过滤掉 node_modules 下的 antd 包。")])]),t._v(" "),s("h3",{attrs:{id:"在-roadhog-或-umi-里配置主题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-roadhog-或-umi-里配置主题"}},[t._v("#")]),t._v(" 在 roadhog 或 Umi 里配置主题")]),t._v(" "),s("p",[t._v("如果你在使用 roadhog 或者 Umi，那么可以很方便地在项目根目录的 .webpackrc（roadhog）或 config/config.js（Umi）文件中 theme 字段进行主题配置。theme 可以配置为一个对象或文件路径。")]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"theme": {\n  "primary-color": "#1DA57A",\n},\n')])])]),s("p",[t._v("或者 一个 js 文件：")]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"theme": "./theme.js",\n')])])]),s("h2",{attrs:{id:"我的实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#我的实现"}},[t._v("#")]),t._v(" 我的实现")]),t._v(" "),s("p",[t._v("我是定义了一个theme.js")]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("module.exports = {\n  '@primary-color': '#1DA57A',\n  '@font-size-base': '14px',\n  '@btn-font-weight': '200',\n};\n")])])]),s("p",[t._v("然后通过")]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const antdTheme = require('./antd-theme');\n")])])]),s("p",[t._v("再修改webpack.config.js中的babel-loader")]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("      {\n        test: /\\.less$/,\n        include: APP_DIR,\n        use: [\n          isDevMode ? 'style-loader' : MiniCssExtractPlugin.loader,\n          'css-loader',\n          {\n            loader: \"less-loader\",\n            options: {\n              modifyVars: antdTheme,\n              javascriptEnabled: true\n            }\n          },\n        ],\n      },\n")])])]),s("h2",{attrs:{id:"遇到问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遇到问题"}},[t._v("#")]),t._v(" 遇到问题")]),t._v(" "),s("ol",[s("li",[t._v("遇到一个问题")])]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// https://github.com/ant-design/ant-motion/issues/44\n.bezierEasingMixin();\n^\nInline JavaScript is not enabled. Is it set in your options?\n      in /Users/test/Documents/work/bi-build/incubator-superset/superset/assets/node_modules/antd/lib/style/color/bezierEasing.less (line 110, column 0)\n @ ./node_modules/antd/lib/tooltip/style/index.less 2:14-117 21:1-42:3 22:19-122\n @ ./node_modules/antd/lib/tooltip/style/index.js\n @ ./node_modules/antd/lib/menu/style/index.js\n @ ./src/SqlLab/components/TableSelector.jsx\n @ ./src/SqlLab/components/SqlEditorLeftBar.jsx\n @ ./src/SqlLab/components/SqlEditor.jsx\n @ ./src/SqlLab/components/TabbedSqlEditors.jsx\n @ ./src/SqlLab/components/App.jsx\n @ ./src/SqlLab/App.jsx\n @ ./src/SqlLab/index.jsx\n @ multi babel-polyfill ./src/preamble.js ./src/SqlLab/index.jsx\n\n")])])]),s("p",[t._v("主要是javaScript不支持造成的")]),t._v(" "),s("p",[t._v("需要在cssloader中将javascriptEnabled:true")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("table列无法对齐")])]),t._v(" "),s("p",[t._v("我用样式修改的")]),t._v(" "),s("div",{staticClass:"language-metadata json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    .ant-table-fixed {\n      table-layout: fixed;\n    }\n\n    .ant-table-tbody > tr > td {\n      word-wrap: break-word;\n      word-break: break-all;\n    }\n")])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);