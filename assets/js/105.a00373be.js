(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{581:function(t,a,s){"use strict";s.r(a);var n=s(4),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("TOC"),t._v(" "),s("h2",{attrs:{id:"使用virtualbox打开虚拟机镜像步骤"}},[t._v("使用VirtualBox打开虚拟机镜像步骤")]),t._v(" "),s("p",[t._v("打开Mac电脑的   系统偏好设置----\x3e安全性与隐私----\x3e通用")]),t._v(" "),s("p",[t._v("在画红框的地方会出现个 oracl.... 的一个选项，点允许")]),t._v(" "),s("p",[t._v("安装好打开virtualBox => file => import Appliance => 选中预先准备好的ova文件")]),t._v(" "),s("h2",{attrs:{id:"虚拟机环境修改"}},[t._v("虚拟机环境修改")]),t._v(" "),s("h3",{attrs:{id:"root用户登陆-密码xxxxxx"}},[t._v("root用户登陆，密码XXXXXX")]),t._v(" "),s("h3",{attrs:{id:"查看ip地址"}},[t._v("查看ip地址")]),t._v(" "),s("p",[t._v("控制台 ifconfig查看虚拟机ip, 后面会大量使用")]),t._v(" "),s("div",{staticClass:"language-ymal extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ifconfig | grep inet \n")])])]),s("h3",{attrs:{id:"启动redis"}},[t._v("启动redis")]),t._v(" "),s("p",[t._v("cd /opt/redis-5.0.4/src")]),t._v(" "),s("ul",[s("li",[t._v("./redis-server 启动 redis")]),t._v(" "),s("li",[t._v("./redis-cli 启动命令行, 输入 config set requirepass xxxxx 设置访问密码")])]),t._v(" "),s("h3",{attrs:{id:"启动ngix"}},[t._v("启动ngix")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("cd /opt/nginx\n")])])]),s("ul",[s("li",[t._v('替换nginx.conf，并将ip修改成"虚拟机实际ip"')]),t._v(" "),s("li",[t._v("./nginx 启动， lsof -i:80 确认")])]),t._v(" "),s("h3",{attrs:{id:"启动mysql"}},[t._v("启动mysql")]),t._v(" "),s("p",[t._v("目前已自动启动, 端口13306\n目前已自动启动， 端口15432")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("\n// 查看一个服务有几个端口。比如要查看mysqld\nps "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ef "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep mysqld\n// 查看某一端口的连接数量"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("比如3306端口\nnetstat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pnt "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3306 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("wc\n// 查看某一端口的连接客户端IP 比如3306端口\nnetstat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("anp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep 3306\nnetstat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("an 查看网络端口 \nlsof "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("port，// 使用lsof "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("port就能看见所指定端口运行的程序，同时还有当前连接。 \nnmap // 端口扫描\nnetstat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nupl //  (UDP类型的端口)\nnetstat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ntpl //  (TCP类型的端口)\nnetstat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("anp // 显示系统端口使用情况\n")])])]),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("ps "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ef "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("grep mysqld\n")])])]),s("h3",{attrs:{id:"启动两个微服务"}},[t._v("启动两个微服务")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("cd /usr/audit/zb_microservice\n")])])]),s("ul",[s("li",[t._v("用归档管理器分别打开 com.ylkj.audit.modellab-1.0.jar 和 com.ylkj.audit.model.manage-1.0.jar")]),t._v(" "),s("li",[t._v("打开起 BOOT-INFO/classes/application.properties 文件")]),t._v(" "),s("li",[t._v("修改 spring.redis.host=127.0.0.1")]),t._v(" "),s("li",[t._v("修改first.datasource.url、pgaudit.datasource.url、centeraudit.datasource.url、mppaudit.datasource.url的ip为127.0.0.1")]),t._v(" "),s("li",[t._v("sh bounce_zb_microservice.sh 启动以上两个微服务")]),t._v(" "),s("li",[t._v("看log_manage.log和log_modellab.log，里面如果没有异常就对了。")])]),t._v(" "),s("p",[t._v("### 在外部启动vue项目")]),t._v(" "),s("ul",[s("li",[t._v("vue.config.js中的ip设置为虚拟机的ip")])]),t._v(" "),s("h3",{attrs:{id:"在外部启动python项目"}},[t._v("在外部启动python项目")]),t._v(" "),s("ul",[s("li",[t._v("superset_config中的各种设置成虚拟机的ip")])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);