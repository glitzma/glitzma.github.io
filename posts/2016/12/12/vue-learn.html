<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue学习 | Glitz&#39;s Blog</title>
    <meta name="description" content="This is my blog">
    
    
    <link rel="preload" href="/assets/css/0.styles.4982967a.css" as="style"><link rel="preload" href="/assets/js/app.b63f6ec7.js" as="script"><link rel="preload" href="/assets/js/3.d8673601.js" as="script"><link rel="preload" href="/assets/js/27.b867c20d.js" as="script"><link rel="prefetch" href="/assets/js/1.a5527113.js"><link rel="prefetch" href="/assets/js/10.d0ee39c4.js"><link rel="prefetch" href="/assets/js/100.3525aa51.js"><link rel="prefetch" href="/assets/js/101.38d1dfbe.js"><link rel="prefetch" href="/assets/js/102.20a46dd4.js"><link rel="prefetch" href="/assets/js/11.d8afe31e.js"><link rel="prefetch" href="/assets/js/12.049b70fe.js"><link rel="prefetch" href="/assets/js/13.3322b3a4.js"><link rel="prefetch" href="/assets/js/14.4e29c37a.js"><link rel="prefetch" href="/assets/js/15.0a57d50a.js"><link rel="prefetch" href="/assets/js/16.16f66172.js"><link rel="prefetch" href="/assets/js/17.67f1acd8.js"><link rel="prefetch" href="/assets/js/18.74ece50d.js"><link rel="prefetch" href="/assets/js/19.1dc88663.js"><link rel="prefetch" href="/assets/js/20.9db2f345.js"><link rel="prefetch" href="/assets/js/21.2903a079.js"><link rel="prefetch" href="/assets/js/22.116181fd.js"><link rel="prefetch" href="/assets/js/23.97ae5156.js"><link rel="prefetch" href="/assets/js/24.3d779783.js"><link rel="prefetch" href="/assets/js/25.84f73c43.js"><link rel="prefetch" href="/assets/js/26.5add2dd6.js"><link rel="prefetch" href="/assets/js/28.ba416de3.js"><link rel="prefetch" href="/assets/js/29.2b4ae3c3.js"><link rel="prefetch" href="/assets/js/30.9b2ff65b.js"><link rel="prefetch" href="/assets/js/31.6f11978e.js"><link rel="prefetch" href="/assets/js/32.d6b8f9be.js"><link rel="prefetch" href="/assets/js/33.35bc56bd.js"><link rel="prefetch" href="/assets/js/34.c3692ebc.js"><link rel="prefetch" href="/assets/js/35.6d9cee92.js"><link rel="prefetch" href="/assets/js/36.4b382477.js"><link rel="prefetch" href="/assets/js/37.33301b59.js"><link rel="prefetch" href="/assets/js/38.bffdb375.js"><link rel="prefetch" href="/assets/js/39.47f57e0e.js"><link rel="prefetch" href="/assets/js/4.c25d0b2f.js"><link rel="prefetch" href="/assets/js/40.0aa0acd3.js"><link rel="prefetch" href="/assets/js/41.ee8d1b66.js"><link rel="prefetch" href="/assets/js/42.b3de87d5.js"><link rel="prefetch" href="/assets/js/43.0c3310af.js"><link rel="prefetch" href="/assets/js/44.3490ea0d.js"><link rel="prefetch" href="/assets/js/45.dcf1ba56.js"><link rel="prefetch" href="/assets/js/46.40a0c708.js"><link rel="prefetch" href="/assets/js/47.7f7aa579.js"><link rel="prefetch" href="/assets/js/48.a3e1ca48.js"><link rel="prefetch" href="/assets/js/49.34e4b107.js"><link rel="prefetch" href="/assets/js/5.b608309a.js"><link rel="prefetch" href="/assets/js/50.95460f78.js"><link rel="prefetch" href="/assets/js/51.bdec4f45.js"><link rel="prefetch" href="/assets/js/52.0b3185ca.js"><link rel="prefetch" href="/assets/js/53.5392e2ea.js"><link rel="prefetch" href="/assets/js/54.128621ed.js"><link rel="prefetch" href="/assets/js/55.89c87795.js"><link rel="prefetch" href="/assets/js/56.8dfafe25.js"><link rel="prefetch" href="/assets/js/57.35aff20b.js"><link rel="prefetch" href="/assets/js/58.6094f519.js"><link rel="prefetch" href="/assets/js/59.d1442988.js"><link rel="prefetch" href="/assets/js/6.85977037.js"><link rel="prefetch" href="/assets/js/60.8575a821.js"><link rel="prefetch" href="/assets/js/61.24a38c8f.js"><link rel="prefetch" href="/assets/js/62.e0dfefdd.js"><link rel="prefetch" href="/assets/js/63.9c212f60.js"><link rel="prefetch" href="/assets/js/64.2dba71da.js"><link rel="prefetch" href="/assets/js/65.54920520.js"><link rel="prefetch" href="/assets/js/66.db62a942.js"><link rel="prefetch" href="/assets/js/67.a82e42be.js"><link rel="prefetch" href="/assets/js/68.a0e598dd.js"><link rel="prefetch" href="/assets/js/69.e5816338.js"><link rel="prefetch" href="/assets/js/7.e7554be0.js"><link rel="prefetch" href="/assets/js/70.eded29f8.js"><link rel="prefetch" href="/assets/js/71.3ee98e40.js"><link rel="prefetch" href="/assets/js/72.80e70301.js"><link rel="prefetch" href="/assets/js/73.ea939c97.js"><link rel="prefetch" href="/assets/js/74.b24225fa.js"><link rel="prefetch" href="/assets/js/75.1ee70d9e.js"><link rel="prefetch" href="/assets/js/76.f7373d6b.js"><link rel="prefetch" href="/assets/js/77.8ee2a452.js"><link rel="prefetch" href="/assets/js/78.c21a34e1.js"><link rel="prefetch" href="/assets/js/79.d806572f.js"><link rel="prefetch" href="/assets/js/8.f59742e0.js"><link rel="prefetch" href="/assets/js/80.89dcb812.js"><link rel="prefetch" href="/assets/js/81.7aa99999.js"><link rel="prefetch" href="/assets/js/82.e58ea211.js"><link rel="prefetch" href="/assets/js/83.063c4eaa.js"><link rel="prefetch" href="/assets/js/84.c3684cda.js"><link rel="prefetch" href="/assets/js/85.226567f4.js"><link rel="prefetch" href="/assets/js/86.6dcf5e90.js"><link rel="prefetch" href="/assets/js/87.b63e7567.js"><link rel="prefetch" href="/assets/js/88.81eed979.js"><link rel="prefetch" href="/assets/js/89.8405d0f8.js"><link rel="prefetch" href="/assets/js/9.776206fe.js"><link rel="prefetch" href="/assets/js/90.b8a7edaf.js"><link rel="prefetch" href="/assets/js/91.e911840e.js"><link rel="prefetch" href="/assets/js/92.2561bf95.js"><link rel="prefetch" href="/assets/js/93.978b7123.js"><link rel="prefetch" href="/assets/js/94.b827b409.js"><link rel="prefetch" href="/assets/js/95.11efa766.js"><link rel="prefetch" href="/assets/js/96.9d7ac840.js"><link rel="prefetch" href="/assets/js/97.19b9aafb.js"><link rel="prefetch" href="/assets/js/98.0ec82928.js"><link rel="prefetch" href="/assets/js/99.a09c769d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4982967a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-glitzma"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(/assets/img/header-image-02.jpg);" data-v-e4a0ebe0><div data-v-fa5c5f88 data-v-e4a0ebe0><nav class="navbar" data-v-fa5c5f88><div class="container" data-v-fa5c5f88><a href="/" class="router-link-active" data-v-fa5c5f88><span class="navbar-site-name" data-v-fa5c5f88>
          Glitz's Blog
        </span></a> <div class="navbar-toggler" data-v-fa5c5f88><svg class="icon" style="font-size:1.2em;" data-v-fa5c5f88 data-v-fa5c5f88><title data-v-fa5c5f88 data-v-fa5c5f88>menu</title><use xlink:href="#icon-menu" data-v-fa5c5f88 data-v-fa5c5f88></use></svg></div> <div class="navbar-links" data-v-fa5c5f88><a href="/" class="navbar-link" data-v-fa5c5f88>
            欢迎页
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-fa5c5f88>
            帖子
          </a><a href="/custom-pages/" class="navbar-link" data-v-fa5c5f88>
            关于我
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-fa5c5f88></div></div> <div class="banner" data-v-e2d7da12 data-v-e4a0ebe0 data-v-e4a0ebe0><div class="container" data-v-e2d7da12><div class="center" data-v-e2d7da12><h1 class="header-slot-h1" data-v-e2d7da12 data-v-e4a0ebe0>
          vue学习
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-0874e876 data-v-0874e876><main class="main" data-v-0874e876><div class="post" data-v-0874e876 data-v-0874e876><section class="post-meta main-div" data-v-7f7ca342><section class="post-date clearfix" data-v-7f7ca342><span class="create-date" data-v-7f7ca342>
      发布时间 : 2016-12-12
    </span> <span class="update-date" data-v-7f7ca342>
      最后修改 : 2019-04-24
    </span></section> <section class="post-links" data-v-7f7ca342><a href="/posts/2016/12/12/promise.html" class="post-link" data-v-7f7ca342>
      上一篇 : promise函数
    </a> <a href="/posts/2017/05/11/node-interview.html" class="post-link" data-v-7f7ca342>
      下一篇 : node.js面试题大全－侧重后端应用与对Node核心的理解
    </a></section></section> <article class="main-div"><div class="post-content content__default"><h2 id="vue学习"><a href="#vue学习" aria-hidden="true" class="header-anchor">#</a> vue学习</h2> <h3 id="框架和库"><a href="#框架和库" aria-hidden="true" class="header-anchor">#</a> 框架和库</h3> <ul><li>框架 vue 拥有完整的解决方案</li> <li>库 jquery underscore zepto animate.css</li></ul> <h3 id="渐进式-（渐进增强）"><a href="#渐进式-（渐进增强）" aria-hidden="true" class="header-anchor">#</a> 渐进式 （渐进增强）</h3> <ul><li>vue全家桶 vuejs + vue-router + vuex + axios (获取数据)</li> <li>通过组合 完成一个完整的框架</li> <li>构建工具 （vue-cli）</li> <li>大规模状态里(vuex)</li> <li>声明式渲染</li></ul> <h2 id="mvc-（backbone）"><a href="#mvc-（backbone）" aria-hidden="true" class="header-anchor">#</a> mvc （backbone）</h2> <ul><li>model 数据</li> <li>view 视图</li> <li>controller 控制器</li></ul> <h2 id="mvvm-angular-vue-双向数据绑定"><a href="#mvvm-angular-vue-双向数据绑定" aria-hidden="true" class="header-anchor">#</a> MVVM (angular,vue) 双向数据绑定</h2> <ul><li>model 数据</li> <li>view 视图</li> <li>view Model 视图模型</li></ul> <h2 id="安装vue"><a href="#安装vue" aria-hidden="true" class="header-anchor">#</a> 安装vue</h2> <ul><li>cdn 的方式</li> <li>npm 安装node package manager</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm init
//初始化，会产生一个package.json ,此文件是描述项目的依赖

# 最新稳定版
$ npm install vue

npm init -y #文件夹名字来命名package.json中的内容
</code></pre></div><h2 id="内容"><a href="#内容" aria-hidden="true" class="header-anchor">#</a> 内容</h2> <ul><li><p>vm =&gt; viewModel 数据最终会被vm所代理。</p></li> <li><p>取值表达式，通过{{}}来进行取值，默认可以不写this,表达式，赋值运算 计算 三元表达式 尽量少写逻辑计算</p></li> <li><p>指令必须 v-开头，后面的值均为变更</p></li> <li><p>(表单元素) 忽略掉value,checked,selected,将数据绑定到视图上，视图修改后会影响数据变化</p></li> <li><p>v-text 取代 {{}} v-cloak 解决闪烁（块）问题 (了解)</p> <div class="language- extra-class"><pre class="language-text"><code>这个指令保持在元素上直到关联实例结束编译。和 CSS 规则如 [v-cloak] { display: none } 一起用时，这个指令可以隐藏未编译的 Mustache 标签
</code></pre></div></li> <li><p>v-once</p> <ul><li>不需要表达式</li> <li>只渲染元素和组件一次。随后的重新渲染，元素/组件及其所有的子节点将被视为静态内容并跳过。这可以用于优化更新性能。</li></ul></li> <li><p>v-html 将html字符串转化成html</p></li> <li><p>v-for 虚幻（数组，对象，字符串，数字）</p> <div class="language- extra-class"><pre class="language-text"><code>    &lt;div v-for = &quot;value in/of 数组&quot;&gt;&lt;/div&gt;
    &lt;div v-for = &quot;(value,index) in/of 数组&quot;&gt;&lt;/div&gt;
</code></pre></div></li></ul> <h2 id="vue中checkbox用法"><a href="#vue中checkbox用法" aria-hidden="true" class="header-anchor">#</a> vue中checkbox用法</h2> <div class="language- extra-class"><pre class="language-text"><code> &lt;input type = &quot;checkbox&quot; v-model = &quot;b&quot; value =&quot;语文&quot;&gt;语文
 &lt;input type = &quot;checkbox&quot; v-model = &quot;b&quot; value =&quot;数学&quot;&gt;数学
 &lt;input type = &quot;checkbox&quot; v-model = &quot;b&quot; value =&quot;英语&quot;&gt;英语

 script:

 let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        a:false,
        b:[]
    }
 })
</code></pre></div><h2 id="vue-中-select-用法"><a href="#vue-中-select-用法" aria-hidden="true" class="header-anchor">#</a> vue 中 select 用法</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;select id = &quot;select&quot;&gt;
    &lt;option value = &quot;1&quot;&gt;你好&lt;/option&gt;
    &lt;option value = &quot;2&quot;&gt;哈&lt;/option&gt;
    &lt;option value = &quot;3&quot;&gt;嘿&lt;/option&gt;
&lt;/select&gt;

javascript:
let oSElect = document.getElementById('select');
oSelect.onChange = function(){
alert(this.value)
}

vue:
  &lt;select v-model=&quot;a&quot;&gt;
      &lt;option value = &quot;1&quot; disabled &gt;请选择&lt;/option&gt;
      &lt;option value = &quot;1&quot;&gt;你好&lt;/option&gt;
      &lt;option value = &quot;2&quot;&gt;哈&lt;/option&gt;
      &lt;option value = &quot;3&quot;&gt;嘿&lt;/option&gt;
  &lt;/select&gt;
//禁用请选择选项
//如果没写value就是option中间内容
//multiple 多选 数据变成数组类型 绑定数据时注意变成数组

 let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        a:'1'
    }
 })

</code></pre></div><h2 id="radio-用法"><a href="#radio-用法" aria-hidden="true" class="header-anchor">#</a> radio 用法</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type = &quot;radio&quot; v-model=&quot;a&quot; value=&quot;1&quot;&gt;女
&lt;input type = &quot;radio&quot; v-model=&quot;a&quot; value=&quot;2&quot;&gt;男

 let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        a:'1'
    }
 })
</code></pre></div><h2 id="事件-v-on"><a href="#事件-v-on" aria-hidden="true" class="header-anchor">#</a> 事件 v-on (@)</h2> <ul><li>绑定给dom元素,函数需要定义在methods中，不能和data里的内容重名，this指向的是实例，不能使用箭头函数，事件源对象如果不写括号，可以自动传入，否则只能手动传入$event</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;div @事件名=&quot;fn&quot;&gt;&lt;/div&gt;
</code></pre></div><h2 id="vue-defineproperty"><a href="#vue-defineproperty" aria-hidden="true" class="header-anchor">#</a> vue DefineProperty</h2> <div class="language- extra-class"><pre class="language-text"><code>let obj = {};
Object.defineProperty(obj,'name',{
    configurable: true,//是否可配置、可删除否
    writable: true,//是否可写
    enumerable:false,//是否可枚举
    value : 1 ,
})

Object.defineProperty(obj,'name',{
    get(){//取obj值时触发

    },
    set(){//给obj赋值会触发get方法

    }
})

</code></pre></div><h2 id="双向绑定的原理"><a href="#双向绑定的原理" aria-hidden="true" class="header-anchor">#</a> 双向绑定的原理</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type = &quot;text&quot; id = &quot;input&quot;&gt;
&lt;script&gt;
let obj = {};
let temp = {};
Object.defineProperty(obj,'name',{
    get(){
        return temp[&quot;name&quot;];
    },set(val){
        temp[&quot;name&quot;] = val;
        input.value = obj.name;
    }
});
input.value = obj.name;
input.addEventListener('input',function(){  //oninput事件，输入框正在输入时触发
    obj.name = this.value
})
&lt;/script&gt;
</code></pre></div><h2 id="vm中data赋值"><a href="#vm中data赋值" aria-hidden="true" class="header-anchor">#</a> vm中data赋值</h2> <div class="language- extra-class"><pre class="language-text"><code>1、 let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        a:{
          school: ''
        }
    }
})
2、 vm.$set(vm.a,'school',1)
3、 vm.a = {school:'lalaa',age:8,address:'xx'}
</code></pre></div><h2 id="vm赋值注意事项"><a href="#vm赋值注意事项" aria-hidden="true" class="header-anchor">#</a> vm赋值注意事项</h2> <div class="language- extra-class"><pre class="language-text"><code>let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        arr:[1,2,3,4,5,6]
    }
})

//因为改变数组中的某一项，get 与 set监控不到，改变数组的长度，也无法被监控到
//错误例子：vm.arr[0] = 100; vm.arr.length -= 2;
//管用的方法：pop push shift unshift sort reserve splice
// methods 和data 中的数据都会放到vm上，而且名字不能冲突，冲突会报错。methods中的this指向的都是实例
//带事件源的： 不带参数 不要写小括号，此时事件源自动传入，如果写括号需要手动传入$event属性
//回车添加时： if(e.keyCodes === 13) this.arr.unshift(this.val);
// @keyup.ctrl.enter 为ctrl + enter同时按

&lt;input type = 'number' v-model.number.lazy = ''&gt; //其中.number让输入框的值变成数字类型 .lazy当输入框失去焦点时更新数据
</code></pre></div><h2 id="购物车-计算机总价的写法"><a href="#购物车-计算机总价的写法" aria-hidden="true" class="header-anchor">#</a> 购物车 计算机总价的写法</h2> <div class="language- extra-class"><pre class="language-text"><code>computed:{
    sum:{
        get(){
            return this.products.reduce((prev,next) =&gt;{
                if(!next.isSelected) return prev;
                return prev + next.productPrice * next.productCount
            })
        }
    }
}

//如果把属性写成函数 默认调用的就是get方法
computed:{
    sum:{
        return this.products.reduce((prev,next) =&gt;{
            if(!next.isSelected) return prev;
            return prev + next.productPrice * next.productCount
        })
    }
}


</code></pre></div><h2 id="动画"><a href="#动画" aria-hidden="true" class="header-anchor">#</a> 动画</h2> <ul><li>动画根据name设置,用name 替换v的位置</li></ul> <div class="language- extra-class"><pre class="language-text"><code>过渡的类名

在进入/离开的过渡中，会有 6 个 class 切换。
v-enter：定义进入过渡的开始状态。在元素被插入时生效，在下一个帧移除。
v-enter-active：定义过渡的状态。在元素整个过渡过程中作用，在元素被插入时生效，在 transition/animation 完成之后移除。这个类可以被用来定义过渡的过程时间，延迟和曲线函数。
v-enter-to: 2.1.8版及以上 定义进入过渡的结束状态。在元素被插入一帧后生效 (于此同时 v-enter 被删除)，在 transition/animation 完成之后移除。
v-leave: 定义离开过渡的开始状态。在离开过渡被触发时生效，在下一个帧移除。
v-leave-active：定义过渡的状态。在元素整个过渡过程中作用，在离开过渡被触发后立即生效，在 transition/animation 完成之后移除。这个类可以被用来定义过渡的过程时间，延迟和曲线函数。
v-leave-to: 2.1.8版及以上 定义离开过渡的结束状态。在离开过渡被触发一帧后生效 (于此同时 v-leave 被删除)，在 transition/animation 完成之后移除。
</code></pre></div><h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2> <ul><li>v-model(checkbox,select 多选是数组，提供一个value属性) (radio checkbox 分组靠的是v-model),checked selected 不存在</li> <li>修饰符 .number .lazy</li> <li>按键修饰符 .enter.ctrl.keyCode</li> <li>事件<div class="language- extra-class"><pre class="language-text"><code>- 事件.stop
  stopPropagation, cancelBabel = true ;
- 事件.capture  (捕获)
  xx.addEventListener('click',fn)
- 事件.prevent
  preventDefault, returnValue = false
- 事件.self
  if (event.target !== event.currentTarget) return
</code></pre></div></li> <li>jquery once 每个元素只能运行一次事件处理器函数。</li> <li>e.srcElement &amp;&amp; e.target 判断事件源绑定事件</li> <li>npm init -y 自动创建package.json</li> <li>全局过滤器(挂多个实例可以用的filter）需要放到实例上面才会生效<div class="language- extra-class"><pre class="language-text"><code>Vue.filter('my',(data)=&gt;{
 return 'lalala' + data;
})
</code></pre></div></li> <li>computed 是属性不是方法<div class="language- extra-class"><pre class="language-text"><code>- 方法不会有缓存，computed会根据依赖（归vue管理的数据，可以响应式变化）的属性进行缓存
- 两部分组成，有get和set 一般情况下通过js赋值影响其它表单元素。 通过 set方法
</code></pre></div></li></ul> <h2 id="样式"><a href="#样式" aria-hidden="true" class="header-anchor">#</a> 样式</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;static&quot; v-bind:class=&quot;{ active: isActive, 'text-danger': hasError }&quot;&gt;&lt;/div&gt;
data: {
  isActive: true,
  hasError: false
}

&lt;div v-bind:class=&quot;[activeClass, errorClass]&quot;&gt;&lt;/div&gt;
data: {
  activeClass: 'active',
  errorClass: 'text-danger'
}

&lt;div v-bind:class=&quot;[isActive ? activeClass : '', errorClass]&quot;&gt;&lt;/div&gt;

</code></pre></div><h2 id="指令-（用来操作dom）"><a href="#指令-（用来操作dom）" aria-hidden="true" class="header-anchor">#</a> 指令 （用来操作dom）</h2> <p>！！ 下面代码只用来参考，不要复制粘贴！！！</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-color.13</span> <span class="token attr-value"><span class="token punctuation">=</span> <span class="token punctuation">&quot;</span>flag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-focus</span> <span class="token attr-value"><span class="token punctuation">=</span> <span class="token punctuation">&quot;</span>cur == todo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>变色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    directives<span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token function">color</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>bindings</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//el 指代的是button按钮</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
            el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> bidings<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">drag</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            el<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">var</span> disx <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX <span class="token operator">-</span> el<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
                <span class="token keyword">var</span> disy <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> el<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
                document<span class="token punctuation">.</span><span class="token function-variable function">onmouseMove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX <span class="token operator">-</span> disx<span class="token punctuation">;</span>
                    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> disy<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                document<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    document<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> document<span class="token punctuation">.</span>onmouseup <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">focus</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>bindings</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>bindings<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
                el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取焦点</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    el<span class="token punctuation">:</span><span class="token string">'#app'</span>，
    data<span class="token punctuation">:</span><span class="token punctuation">{</span>
        flag<span class="token punctuation">:</span><span class="token string">'yellow'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="localstorage"><a href="#localstorage" aria-hidden="true" class="header-anchor">#</a> localStorage</h2> <div class="language- extra-class"><pre class="language-text"><code>let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        todos:[1,2,3,4,5,6]
    },
    created(){
        this.todos = JSON.parse(localStorage.getItem('data') || this.todos );
    },
    watch:{
        //todos(){ //watch默认只监控一层的数据，数组增加减少会监控到。 更改内容不会发生变化。此时需要深度监控
        //    alert('aaaaa');
        //}
        todos:{ //实现深度监控
            handler(){//写成函数就默认写了个handler
                 localStorage.setItem('data',JSON.stringfy(this.todos));
            },ddep:true

        }
    }
})
//localStorage.getItem

</code></pre></div><h2 id="history-相关"><a href="#history-相关" aria-hidden="true" class="header-anchor">#</a> history 相关</h2> <div class="language- extra-class"><pre class="language-text"><code>let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        todos:[1,2,3,4,5,6]
    },
    created(){
        //监控hash值的变化
        window.addEventListener('hashchange',()=&gt;{
            console.log(1
            )
        },false);
    },
    watch:{
        //todos(){ //watch默认只监控一层的数据，数组增加减少会监控到。 更改内容不会发生变化。此时需要深度监控
        //    alert('aaaaa');
        //}
        todos:{ //实现深度监控
            handler(){//写成函数就默认写了个handler
                 localStorage.setItem('data',JSON.stringfy(this.todos));
            },ddep:true

        }
    }
})
</code></pre></div><h2 id="vue生命周期"><a href="#vue生命周期" aria-hidden="true" class="header-anchor">#</a> vue生命周期</h2> <ul><li>共八个</li> <li>beforeCreate、created、beforeMount、mounted、beforeUpdate、updated、beforeDestroy、destroyed</li></ul> <div class="language- extra-class"><pre class="language-text"><code>let vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        todos:[1,2,3,4,5,6]
    },
    created(){//放ajax初始化数据
        //监控hash值的变化
        window.addEventListener('hashchange',()=&gt;{
            console.log(1
            )
        },false);
    },
    template:'&lt;div&gt;{{todos}}&lt;/div&gt;' //如果有template属性会用模板替换掉外部html,只要有template 则app中的见容没有意义
})
</code></pre></div><h2 id="this-nexttick-保证dom渲染完成后再执行"><a href="#this-nexttick-保证dom渲染完成后再执行" aria-hidden="true" class="header-anchor">#</a> this.$nextTick() 保证dom渲染完成后再执行</h2> <ul><li>可以用在mounted中获取vm</li> <li>数据变化后想获取真实dom内容，需要等待页面渲染完毕后去获取所有dom操作  此时用nextTick</li></ul> <h2 id="this-refs-xxx"><a href="#this-refs-xxx" aria-hidden="true" class="header-anchor">#</a> this.$refs.xxx</h2> <p>在mounted同样也可以通过this.$rfs.hahaha 获取</p> <div class="language- extra-class"><pre class="language-text"><code>如果dom元素不是通过v-for循环出来的，只能获取一个，通过v-for循环可以获得多个

this.$refs.wrap.children.length
</code></pre></div><h2 id="全局组件"><a href="#全局组件" aria-hidden="true" class="header-anchor">#</a> 全局组件</h2> <div class="language- extra-class"><pre class="language-text"><code>//1.组件名不要带大写。多个单词用 - 分割 （首字母是可以大写的）
//2.组件名和定义名字相同
//3.html采用- 命名法， js中用驼峰命名法
&lt;mycomponent&gt;&lt;/mycomponent&gt;

Vue.component('mycomponent',{
    template:'&lt;div&gt;msg&lt;/div&gt;',
    data(){//组建中的数据必须是函数类型，返回一个实例作为组建的数据
        return {msg:'啦啦'}
    }
})
//全局组件
</code></pre></div><h2 id="局部组件"><a href="#局部组件" aria-hidden="true" class="header-anchor">#</a> 局部组件</h2> <div class="language- extra-class"><pre class="language-text"><code>// 1.创建组件
// 2.注册组建
// 3.引用组件

&lt;hhh&gt;&lt;/hhh&gt;
或者&lt;hhh/&gt;  不能两个挨着，

let hhh = {template:'&lt;div&gt;哈哈哈&lt;/div&gt;'}
let haha = {template:'&lt;div&gt;呵呵呵&lt;/div&gt;'}
let vm = new Vue({
    el:'#app',
    components:{
       hhh,
       haha
    },
    data:{
    }
})

Vue.component('mycomponent',{
    template:'&lt;div&gt;msg&lt;/div&gt;',
    data(){//组建中的数据必须是函数类型，返回一个实例作为组建的数据
        return {msg:'啦啦'}
    }
})
</code></pre></div><ul><li>组件中拥有生命周期函数</li></ul> <h2 id="sync-修饰符"><a href="#sync-修饰符" aria-hidden="true" class="header-anchor">#</a> .sync 修饰符</h2> <div class="language- extra-class"><pre class="language-text"><code>2.3.0+
在一些情况下，我们可能会需要对一个 prop 进行“双向绑定”。事实上，这正是 Vue 1.x 中的 .sync 修饰符所提供的功能。当一个子组件改变了一个带 .sync 的 prop 的值时，这个变化也会同步到父组件中所绑定的值。这很方便，但也会导致问题，因为它破坏了单向数据流。由于子组件改变 prop 的代码和普通的状态改动代码毫无区别，当光看子组件的代码时，你完全不知道它何时悄悄地改变了父组件的状态。这在 debug 复杂结构的应用时会带来很高的维护成本。
上面所说的正是我们在 2.0 中移除 .sync 的理由。但是在 2.0 发布之后的实际应用中，我们发现 .sync 还是有其适用之处，比如在开发可复用的组件库时。我们需要做的只是让子组件改变父组件状态的代码更容易被区分。
从 2.3.0 起我们重新引入了 .sync 修饰符， 但是这次它只是作为一个编译时的语法糖存在。它会被扩展为一个自动更新父组件属性的 v-on 监听器。
如下代码
&lt;comp :foo.sync=&quot;bar&quot;&gt;&lt;/comp&gt;
会被扩展为：
&lt;comp :foo=&quot;bar&quot; @update:foo=&quot;val =&gt; bar = val&quot;&gt;&lt;/comp&gt;
当子组件需要更新 foo 的值时，它需要显式地触发一个更新事件：
this.$emit('update:foo', newValue)
</code></pre></div></div></article> <section class="post-meta main-div" data-v-7f7ca342><section class="post-date clearfix" data-v-7f7ca342><span class="create-date" data-v-7f7ca342>
      发布时间 : 2016-12-12
    </span> <span class="update-date" data-v-7f7ca342>
      最后修改 : 2019-04-24
    </span></section> <section class="post-links" data-v-7f7ca342><a href="/posts/2016/12/12/promise.html" class="post-link" data-v-7f7ca342>
      上一篇 : promise函数
    </a> <a href="/posts/2017/05/11/node-interview.html" class="post-link" data-v-7f7ca342>
      下一篇 : node.js面试题大全－侧重后端应用与对Node核心的理解
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-0874e876><div class="info-card main-div" data-v-2bd66a30 data-v-0874e876><div class="info-card-header" data-v-2bd66a30><img src="https://blog.mamingjuan.cn/assets/images/favicon-16.ico" alt="glitzma" class="info-avatar" data-v-2bd66a30></div> <div class="info-card-body" data-v-2bd66a30><section class="info-nickname" data-v-2bd66a30>
      glitzma
    </section> <section class="info-desc" data-v-2bd66a30>Happy Coding<br/>Happy Life</section> <section class="info-contact" data-v-2bd66a30><section data-v-2bd66a30><span title="Beijing City, China" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>Beijing City, China</title><use xlink:href="#icon-location" data-v-2bd66a30 data-v-2bd66a30></use></svg><span class="info-text" data-v-2bd66a30 data-v-2bd66a30>
          Beijing City, China
        </span></span></section> <section data-v-2bd66a30><span title="Hao Wei Lai" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>Hao Wei Lai</title><use xlink:href="#icon-organization" data-v-2bd66a30 data-v-2bd66a30></use></svg><span class="info-text" data-v-2bd66a30 data-v-2bd66a30>
          Hao Wei Lai
        </span></span></section> <section data-v-2bd66a30><a href="mailto:glitteringma@gmail.com" title="glitteringma@gmail.com" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>glitteringma@gmail.com</title><use xlink:href="#icon-email" data-v-2bd66a30 data-v-2bd66a30></use></svg><span class="info-text" data-v-2bd66a30 data-v-2bd66a30>
          glitteringma@gmail.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-2bd66a30><section class="info-sns clearfix" data-v-2bd66a30><a href="https://github.com/glitzma" target="_blank" class="sns-link" data-v-2bd66a30><span title="GitHub: glitzma" class="sns-icon" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1.5em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>GitHub: glitzma</title><use xlink:href="#icon-github" data-v-2bd66a30 data-v-2bd66a30></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-0874e876><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/posts/2016/12/12/vue-learn.html#vue学习">vue学习</a><ul><li><a href="/posts/2016/12/12/vue-learn.html#框架和库">框架和库</a></li><li><a href="/posts/2016/12/12/vue-learn.html#渐进式-（渐进增强）">渐进式 （渐进增强）</a></li></ul></li><li><a href="/posts/2016/12/12/vue-learn.html#mvc-（backbone）">mvc （backbone）</a></li><li><a href="/posts/2016/12/12/vue-learn.html#mvvm-angular-vue-双向数据绑定">MVVM (angular,vue) 双向数据绑定</a></li><li><a href="/posts/2016/12/12/vue-learn.html#安装vue">安装vue</a></li><li><a href="/posts/2016/12/12/vue-learn.html#内容">内容</a></li><li><a href="/posts/2016/12/12/vue-learn.html#vue中checkbox用法">vue中checkbox用法</a></li><li><a href="/posts/2016/12/12/vue-learn.html#vue-中-select-用法">vue 中 select 用法</a></li><li><a href="/posts/2016/12/12/vue-learn.html#radio-用法">radio 用法</a></li><li><a href="/posts/2016/12/12/vue-learn.html#事件-v-on">事件 v-on (@)</a></li><li><a href="/posts/2016/12/12/vue-learn.html#vue-defineproperty">vue DefineProperty</a></li><li><a href="/posts/2016/12/12/vue-learn.html#双向绑定的原理">双向绑定的原理</a></li><li><a href="/posts/2016/12/12/vue-learn.html#vm中data赋值">vm中data赋值</a></li><li><a href="/posts/2016/12/12/vue-learn.html#vm赋值注意事项">vm赋值注意事项</a></li><li><a href="/posts/2016/12/12/vue-learn.html#购物车-计算机总价的写法">购物车 计算机总价的写法</a></li><li><a href="/posts/2016/12/12/vue-learn.html#动画">动画</a></li><li><a href="/posts/2016/12/12/vue-learn.html#总结">总结</a></li><li><a href="/posts/2016/12/12/vue-learn.html#样式">样式</a></li><li><a href="/posts/2016/12/12/vue-learn.html#指令-（用来操作dom）">指令 （用来操作dom）</a></li><li><a href="/posts/2016/12/12/vue-learn.html#localstorage">localStorage</a></li><li><a href="/posts/2016/12/12/vue-learn.html#history-相关">history 相关</a></li><li><a href="/posts/2016/12/12/vue-learn.html#vue生命周期">vue生命周期</a></li><li><a href="/posts/2016/12/12/vue-learn.html#this-nexttick-保证dom渲染完成后再执行">this.$nextTick() 保证dom渲染完成后再执行</a></li><li><a href="/posts/2016/12/12/vue-learn.html#this-refs-xxx">this.$refs.xxx</a></li><li><a href="/posts/2016/12/12/vue-learn.html#全局组件">全局组件</a></li><li><a href="/posts/2016/12/12/vue-learn.html#局部组件">局部组件</a></li><li><a href="/posts/2016/12/12/vue-learn.html#sync-修饰符">.sync 修饰符</a></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2016/12/12/vue-learn.html#post-comments">
      评论
    </a></div></div></aside></div> <footer class="footer" data-v-e361d3ee><p class="sns-links" data-v-e361d3ee><a href="https://github.com/glitzma" target="_blank" class="sns-link" data-v-e361d3ee><span title="GitHub: glitzma" class="sns-icon" data-v-e361d3ee data-v-e361d3ee><svg class="icon" style="font-size:25px;" data-v-e361d3ee data-v-e361d3ee><title data-v-e361d3ee data-v-e361d3ee>GitHub: glitzma</title><use xlink:href="#icon-github" data-v-e361d3ee data-v-e361d3ee></use></svg></span></a></p> <p data-v-e361d3ee><span data-v-e361d3ee>Powered by </span> <a href="https://vuepress.vuejs.org" target="_blank" data-v-e361d3ee>
      Vuepress
    </a></p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.b63f6ec7.js" defer></script><script src="/assets/js/3.d8673601.js" defer></script><script src="/assets/js/27.b867c20d.js" defer></script>
  </body>
</html>
