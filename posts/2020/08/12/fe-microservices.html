<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å‰ç«¯å¾®æœåŠ¡æ€»ç»“ | Glitr&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="This is my blog">
    
    <link rel="preload" href="/assets/css/0.styles.061059e7.css" as="style"><link rel="preload" href="/assets/js/app~d0ae3f07.061059e7.js" as="script"><link rel="preload" href="/assets/js/app~d939e436.8c4770b5.js" as="script"><link rel="preload" href="/assets/css/styles.178ad997.css" as="style"><link rel="preload" href="/assets/js/app~db300d2f.178ad997.js" as="script"><link rel="preload" href="/assets/css/10.styles.5446bb17.css" as="style"><link rel="preload" href="/assets/js/10.5446bb17.js" as="script"><link rel="preload" href="/assets/js/120.76a2763d.js" as="script"><link rel="prefetch" href="/assets/css/11.styles.66e9ed27.css"><link rel="prefetch" href="/assets/css/3.styles.5d85e56b.css"><link rel="prefetch" href="/assets/css/4.styles.a937ccba.css"><link rel="prefetch" href="/assets/css/5.styles.fd484b24.css"><link rel="prefetch" href="/assets/css/6.styles.9c5ea3ff.css"><link rel="prefetch" href="/assets/css/7.styles.15f42b79.css"><link rel="prefetch" href="/assets/css/8.styles.e1818969.css"><link rel="prefetch" href="/assets/css/9.styles.df046237.css"><link rel="prefetch" href="/assets/js/100.9e4b1117.js"><link rel="prefetch" href="/assets/js/101.7741c5c7.js"><link rel="prefetch" href="/assets/js/102.1018f51f.js"><link rel="prefetch" href="/assets/js/103.d2d3e4dc.js"><link rel="prefetch" href="/assets/js/104.42d568a9.js"><link rel="prefetch" href="/assets/js/105.ce4514c4.js"><link rel="prefetch" href="/assets/js/106.01259a0f.js"><link rel="prefetch" href="/assets/js/107.f0b780d1.js"><link rel="prefetch" href="/assets/js/108.234d7571.js"><link rel="prefetch" href="/assets/js/109.d7f8514c.js"><link rel="prefetch" href="/assets/js/11.66e9ed27.js"><link rel="prefetch" href="/assets/js/110.bc8d1652.js"><link rel="prefetch" href="/assets/js/111.520f621c.js"><link rel="prefetch" href="/assets/js/112.e857f71f.js"><link rel="prefetch" href="/assets/js/113.59d415de.js"><link rel="prefetch" href="/assets/js/114.3771a611.js"><link rel="prefetch" href="/assets/js/115.9678e14c.js"><link rel="prefetch" href="/assets/js/116.a30c0c0a.js"><link rel="prefetch" href="/assets/js/117.f63ec00a.js"><link rel="prefetch" href="/assets/js/118.f21642b3.js"><link rel="prefetch" href="/assets/js/119.bb6db00c.js"><link rel="prefetch" href="/assets/js/12.b0165391.js"><link rel="prefetch" href="/assets/js/121.bf4b1e78.js"><link rel="prefetch" href="/assets/js/122.51c9f04f.js"><link rel="prefetch" href="/assets/js/123.c47cb04a.js"><link rel="prefetch" href="/assets/js/124.8f38560d.js"><link rel="prefetch" href="/assets/js/125.43cea17b.js"><link rel="prefetch" href="/assets/js/126.3269b809.js"><link rel="prefetch" href="/assets/js/127.c9d2e017.js"><link rel="prefetch" href="/assets/js/128.5ea8e1a3.js"><link rel="prefetch" href="/assets/js/129.01b0d96a.js"><link rel="prefetch" href="/assets/js/13.2eb4db1c.js"><link rel="prefetch" href="/assets/js/130.da6c6d17.js"><link rel="prefetch" href="/assets/js/131.d1ba9c9c.js"><link rel="prefetch" href="/assets/js/132.97dcb7a0.js"><link rel="prefetch" href="/assets/js/133.fab77283.js"><link rel="prefetch" href="/assets/js/134.bea8759d.js"><link rel="prefetch" href="/assets/js/14.cca56f7f.js"><link rel="prefetch" href="/assets/js/15.efc915d0.js"><link rel="prefetch" href="/assets/js/16.a44e2a89.js"><link rel="prefetch" href="/assets/js/17.482a1323.js"><link rel="prefetch" href="/assets/js/18.9d4ded27.js"><link rel="prefetch" href="/assets/js/19.fda49882.js"><link rel="prefetch" href="/assets/js/20.1c89a007.js"><link rel="prefetch" href="/assets/js/21.0e5f406f.js"><link rel="prefetch" href="/assets/js/22.8807dde0.js"><link rel="prefetch" href="/assets/js/23.ceba6307.js"><link rel="prefetch" href="/assets/js/24.e0e6dc2e.js"><link rel="prefetch" href="/assets/js/25.69c71206.js"><link rel="prefetch" href="/assets/js/26.9813e203.js"><link rel="prefetch" href="/assets/js/27.015d099c.js"><link rel="prefetch" href="/assets/js/28.173e6e10.js"><link rel="prefetch" href="/assets/js/29.1a39e4fc.js"><link rel="prefetch" href="/assets/js/3.5d85e56b.js"><link rel="prefetch" href="/assets/js/30.e76c5bb0.js"><link rel="prefetch" href="/assets/js/31.b01bb927.js"><link rel="prefetch" href="/assets/js/32.e96d4bc2.js"><link rel="prefetch" href="/assets/js/33.ae056341.js"><link rel="prefetch" href="/assets/js/34.f29c1e1d.js"><link rel="prefetch" href="/assets/js/35.6b0acb63.js"><link rel="prefetch" href="/assets/js/36.3a9699bb.js"><link rel="prefetch" href="/assets/js/37.582e5e6b.js"><link rel="prefetch" href="/assets/js/38.b07f2fd6.js"><link rel="prefetch" href="/assets/js/39.1d34f7a1.js"><link rel="prefetch" href="/assets/js/4.a937ccba.js"><link rel="prefetch" href="/assets/js/40.c7d286c6.js"><link rel="prefetch" href="/assets/js/41.fd1cf126.js"><link rel="prefetch" href="/assets/js/42.47db4072.js"><link rel="prefetch" href="/assets/js/43.f7366fbb.js"><link rel="prefetch" href="/assets/js/44.0b2dc774.js"><link rel="prefetch" href="/assets/js/45.2b55bf44.js"><link rel="prefetch" href="/assets/js/46.6dac328b.js"><link rel="prefetch" href="/assets/js/47.8dfd99a8.js"><link rel="prefetch" href="/assets/js/48.4672233f.js"><link rel="prefetch" href="/assets/js/49.ab1527e1.js"><link rel="prefetch" href="/assets/js/5.fd484b24.js"><link rel="prefetch" href="/assets/js/50.35f3e2f3.js"><link rel="prefetch" href="/assets/js/51.154daede.js"><link rel="prefetch" href="/assets/js/52.6e3d9f36.js"><link rel="prefetch" href="/assets/js/53.ae373c64.js"><link rel="prefetch" href="/assets/js/54.b3c59468.js"><link rel="prefetch" href="/assets/js/55.e3aba7b2.js"><link rel="prefetch" href="/assets/js/56.a8c88154.js"><link rel="prefetch" href="/assets/js/57.7928f597.js"><link rel="prefetch" href="/assets/js/58.3f791e99.js"><link rel="prefetch" href="/assets/js/59.8cef5b2b.js"><link rel="prefetch" href="/assets/js/6.9c5ea3ff.js"><link rel="prefetch" href="/assets/js/60.6008c72c.js"><link rel="prefetch" href="/assets/js/61.b06b8312.js"><link rel="prefetch" href="/assets/js/62.370ea0da.js"><link rel="prefetch" href="/assets/js/63.d6526b11.js"><link rel="prefetch" href="/assets/js/64.f35a9734.js"><link rel="prefetch" href="/assets/js/65.42cf0911.js"><link rel="prefetch" href="/assets/js/66.807ffaf1.js"><link rel="prefetch" href="/assets/js/67.3997b597.js"><link rel="prefetch" href="/assets/js/68.39c9c2bf.js"><link rel="prefetch" href="/assets/js/69.55ecd923.js"><link rel="prefetch" href="/assets/js/7.15f42b79.js"><link rel="prefetch" href="/assets/js/70.6fc0037f.js"><link rel="prefetch" href="/assets/js/71.1835d5fa.js"><link rel="prefetch" href="/assets/js/72.ec549788.js"><link rel="prefetch" href="/assets/js/73.375146e6.js"><link rel="prefetch" href="/assets/js/74.1ba3aa95.js"><link rel="prefetch" href="/assets/js/75.53f2f28d.js"><link rel="prefetch" href="/assets/js/76.4927ad65.js"><link rel="prefetch" href="/assets/js/77.01930058.js"><link rel="prefetch" href="/assets/js/78.2db1cec4.js"><link rel="prefetch" href="/assets/js/79.fd2c742d.js"><link rel="prefetch" href="/assets/js/8.e1818969.js"><link rel="prefetch" href="/assets/js/80.21fda31e.js"><link rel="prefetch" href="/assets/js/81.e43002f9.js"><link rel="prefetch" href="/assets/js/82.3a36da23.js"><link rel="prefetch" href="/assets/js/83.4a584a89.js"><link rel="prefetch" href="/assets/js/84.6bfbeb84.js"><link rel="prefetch" href="/assets/js/85.56cc5ed7.js"><link rel="prefetch" href="/assets/js/86.dce97718.js"><link rel="prefetch" href="/assets/js/87.6ae4a85b.js"><link rel="prefetch" href="/assets/js/88.4d1c5950.js"><link rel="prefetch" href="/assets/js/89.fe2d02c1.js"><link rel="prefetch" href="/assets/js/9.df046237.js"><link rel="prefetch" href="/assets/js/90.e02358cb.js"><link rel="prefetch" href="/assets/js/91.06d18b77.js"><link rel="prefetch" href="/assets/js/92.9c0d0960.js"><link rel="prefetch" href="/assets/js/93.1b8f90b0.js"><link rel="prefetch" href="/assets/js/94.75315178.js"><link rel="prefetch" href="/assets/js/95.8466db9e.js"><link rel="prefetch" href="/assets/js/96.f1163192.js"><link rel="prefetch" href="/assets/js/97.c2a4c30d.js"><link rel="prefetch" href="/assets/js/98.36d6d5bd.js"><link rel="prefetch" href="/assets/js/99.fb457021.js">
    <link rel="stylesheet" href="/assets/css/0.styles.061059e7.css"><link rel="stylesheet" href="/assets/css/styles.178ad997.css"><link rel="stylesheet" href="/assets/css/10.styles.5446bb17.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-glitzma"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(/assets/img/header-image-04.jpg);" data-v-e4a0ebe0><div data-v-6654f004 data-v-e4a0ebe0><nav class="navbar" data-v-6654f004><div class="container" data-v-6654f004><a href="/" class="router-link-active" data-v-6654f004><span class="navbar-site-name" data-v-6654f004>
          Glitr's Blog
        </span></a> <div class="navbar-toggler" data-v-6654f004><svg class="icon" style="font-size:1.2em;" data-v-6654f004 data-v-6654f004><title data-v-6654f004 data-v-6654f004>menu</title><use xlink:href="#icon-menu" data-v-6654f004 data-v-6654f004></use></svg></div> <div class="navbar-links" data-v-6654f004><a href="/" class="navbar-link" data-v-6654f004>
            æ¬¢è¿é¡µ
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-6654f004>
            å¸–å­
          </a><a href="/custom-pages/" class="navbar-link" data-v-6654f004>
            å…³äºæˆ‘
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-6654f004></div></div> <div class="banner" data-v-e2d7da12 data-v-e4a0ebe0 data-v-e4a0ebe0><div class="container" data-v-e2d7da12><div class="center" data-v-e2d7da12></div></div></div></header> <div class="container clearfix show-aside" data-v-0874e876 data-v-0874e876><main class="main" data-v-0874e876><div class="post" data-v-0874e876 data-v-0874e876><section class="post-meta main-div" data-v-7f7ca342><section class="post-date clearfix" data-v-7f7ca342><span class="create-date" data-v-7f7ca342>
      å‘å¸ƒæ—¶é—´ : 2020-08-12
    </span> <span class="update-date" data-v-7f7ca342>
      æœ€åä¿®æ”¹ : 2020-09-01
    </span></section> <section class="post-links" data-v-7f7ca342><a href="/posts/2020/06/19/question-summary.html" class="post-link" data-v-7f7ca342>
      ä¸Šä¸€ç¯‡ : ç¦»çº¿å­˜å‚¨é‡åˆ°çš„é—®é¢˜
    </a> <a href="/posts/2020/09/04/diary.html" class="post-link" data-v-7f7ca342>
      ä¸‹ä¸€ç¯‡ : æœ€è¿‘æ€»æ˜¯åœ¨æ€è€ƒä¸€äº›äº‹æƒ…
    </a></section></section> <article class="main-div"><div class="post-content content__default"><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="header-anchor">#</a> ä»‹ç»</h2> <p>qiankun æ˜¯ä¸€ä¸ªåŸºäº single-spa çš„å¾®å‰ç«¯å®ç°åº“ï¼Œæ—¨åœ¨å¸®åŠ©å¤§å®¶èƒ½æ›´ç®€å•ã€æ— ç—›çš„æ„å»ºä¸€ä¸ªç”Ÿäº§å¯ç”¨å¾®å‰ç«¯æ¶æ„ç³»ç»Ÿã€‚</p> <p>qiankun å­µåŒ–è‡ªèš‚èšé‡‘èç§‘æŠ€åŸºäºå¾®å‰ç«¯æ¶æ„çš„äº‘äº§å“ç»Ÿä¸€æ¥å…¥å¹³å°ï¼Œåœ¨ç»è¿‡ä¸€æ‰¹çº¿ä¸Šåº”ç”¨çš„å……åˆ†æ£€éªŒåŠæ‰“ç£¨åï¼Œæˆ‘ä»¬å°†å…¶å¾®å‰ç«¯å†…æ ¸æŠ½å–å‡ºæ¥å¹¶å¼€æºï¼Œå¸Œæœ›èƒ½åŒæ—¶å¸®åŠ©ç¤¾åŒºæœ‰ç±»ä¼¼éœ€æ±‚çš„ç³»ç»Ÿæ›´æ–¹ä¾¿çš„æ„å»ºè‡ªå·±çš„å¾®å‰ç«¯ç³»ç»Ÿï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›é€šè¿‡ç¤¾åŒºçš„å¸®åŠ©å°† qiankun æ‰“ç£¨çš„æ›´åŠ æˆç†Ÿå®Œå–„ã€‚</p> <p>ç›®å‰ qiankun å·²åœ¨èš‚èšå†…éƒ¨æœåŠ¡äº†è¶…è¿‡ 200+ çº¿ä¸Šåº”ç”¨ï¼Œåœ¨æ˜“ç”¨æ€§åŠå®Œå¤‡æ€§ä¸Šï¼Œç»å¯¹æ˜¯å€¼å¾—ä¿¡èµ–çš„ã€‚</p> <h2 id="ä»€ä¹ˆæ˜¯å¾®å‰ç«¯"><a href="#ä»€ä¹ˆæ˜¯å¾®å‰ç«¯" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯å¾®å‰ç«¯</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Techniques, strategies and recipes for building a modern web app with multiple teams that can ship features independently. -- Micro Frontends</p> <p>å¾®å‰ç«¯æ˜¯ä¸€ç§å¤šä¸ªå›¢é˜Ÿé€šè¿‡ç‹¬ç«‹å‘å¸ƒåŠŸèƒ½çš„æ–¹å¼æ¥å…±åŒæ„å»ºç°ä»£åŒ– web åº”ç”¨çš„æŠ€æœ¯æ‰‹æ®µåŠæ–¹æ³•ç­–ç•¥ã€‚</p></div> <p>å¾®å‰ç«¯æ¶æ„å…·å¤‡ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒä»·å€¼ï¼š</p> <ul><li><p>æŠ€æœ¯æ ˆæ— å…³</p> <p>ä¸»æ¡†æ¶ä¸é™åˆ¶æ¥å…¥åº”ç”¨çš„æŠ€æœ¯æ ˆï¼Œå¾®åº”ç”¨å…·å¤‡å®Œå…¨è‡ªä¸»æƒ</p></li> <li><p>ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²</p> <p>å¾®åº”ç”¨ä»“åº“ç‹¬ç«‹ï¼Œå‰åç«¯å¯ç‹¬ç«‹å¼€å‘ï¼Œéƒ¨ç½²å®Œæˆåä¸»æ¡†æ¶è‡ªåŠ¨å®ŒæˆåŒæ­¥æ›´æ–°</p></li> <li><p>å¢é‡å‡çº§</p> <p>åœ¨é¢å¯¹å„ç§å¤æ‚åœºæ™¯æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å¾ˆéš¾å¯¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç³»ç»Ÿåšå…¨é‡çš„æŠ€æœ¯æ ˆå‡çº§æˆ–é‡æ„ï¼Œè€Œå¾®å‰ç«¯æ˜¯ä¸€ç§éå¸¸å¥½çš„å®æ–½æ¸è¿›å¼é‡æ„çš„æ‰‹æ®µå’Œç­–ç•¥</p></li> <li><p>ç‹¬ç«‹è¿è¡Œæ—¶</p> <p>æ¯ä¸ªå¾®åº”ç”¨ä¹‹é—´çŠ¶æ€éš”ç¦»ï¼Œè¿è¡Œæ—¶çŠ¶æ€ä¸å…±äº«</p></li></ul> <p>å¾®å‰ç«¯æ¶æ„æ—¨åœ¨è§£å†³å•ä½“åº”ç”¨åœ¨ä¸€ä¸ªç›¸å¯¹é•¿çš„æ—¶é—´è·¨åº¦ä¸‹ï¼Œç”±äºå‚ä¸çš„äººå‘˜ã€å›¢é˜Ÿçš„å¢å¤šã€å˜è¿ï¼Œä»ä¸€ä¸ªæ™®é€šåº”ç”¨æ¼”å˜æˆä¸€ä¸ªå·¨çŸ³åº”ç”¨(Frontend Monolith)åï¼Œéšä¹‹è€Œæ¥çš„åº”ç”¨ä¸å¯ç»´æŠ¤çš„é—®é¢˜ã€‚è¿™ç±»é—®é¢˜åœ¨ä¼ä¸šçº§ Web åº”ç”¨ä¸­å°¤å…¶å¸¸è§ã€‚</p> <p>æ›´å¤šå…³äºå¾®å‰ç«¯çš„ç›¸å…³ä»‹ç»ï¼Œæ¨èå¤§å®¶å¯ä»¥å»çœ‹è¿™å‡ ç¯‡æ–‡ç« ï¼š</p> <ul><li><a href="https://micro-frontends.org/" target="_blank" rel="noopener noreferrer">Micro Frontends<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://martinfowler.com/articles/micro-frontends.html" target="_blank" rel="noopener noreferrer">Micro Frontends from martinfowler.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/78362028" target="_blank" rel="noopener noreferrer">å¯èƒ½æ˜¯ä½ è§è¿‡æœ€å®Œå–„çš„å¾®å‰ç«¯è§£å†³æ–¹æ¡ˆ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/95085796" target="_blank" rel="noopener noreferrer">å¾®å‰ç«¯çš„æ ¸å¿ƒä»·å€¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="qiankun-çš„æ ¸å¿ƒè®¾è®¡ç†å¿µ"><a href="#qiankun-çš„æ ¸å¿ƒè®¾è®¡ç†å¿µ" class="header-anchor">#</a> qiankun çš„æ ¸å¿ƒè®¾è®¡ç†å¿µ</h2> <ul><li>ğŸ¥„ç®€å•</li></ul> <p>ç”±äºä¸»åº”ç”¨å¾®åº”ç”¨éƒ½èƒ½åšåˆ°æŠ€æœ¯æ ˆæ— å…³ï¼Œqiankun å¯¹äºç”¨æˆ·è€Œè¨€åªæ˜¯ä¸€ä¸ªç±»ä¼¼ jQuery çš„åº“ï¼Œä½ éœ€è¦è°ƒç”¨å‡ ä¸ª qiankun çš„ API å³å¯å®Œæˆåº”ç”¨çš„å¾®å‰ç«¯æ”¹é€ ã€‚åŒæ—¶ç”±äº qiankun çš„ HTML entry åŠæ²™ç®±çš„è®¾è®¡ï¼Œä½¿å¾—å¾®åº”ç”¨çš„æ¥å…¥åƒä½¿ç”¨ iframe ä¸€æ ·ç®€å•ã€‚
<a href="https://www.yuque.com/kuitos/gky7yw/gesexv" target="_blank" rel="noopener noreferrer">ä¸ºä»€ä¹ˆä¸ç”¨iframe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>ğŸ¡ è§£è€¦/æŠ€æœ¯æ ˆæ— å…³</li></ul> <p>å¾®å‰ç«¯çš„æ ¸å¿ƒç›®æ ‡æ˜¯å°†å·¨çŸ³åº”ç”¨æ‹†è§£æˆè‹¥å¹²å¯ä»¥è‡ªæ²»çš„æ¾è€¦åˆå¾®åº”ç”¨ï¼Œè€Œ qiankun çš„è¯¸å¤šè®¾è®¡å‡æ˜¯ç§‰æŒè¿™ä¸€åŸåˆ™ï¼Œå¦‚ HTML entryã€æ²™ç®±ã€åº”ç”¨é—´é€šä¿¡ç­‰ã€‚è¿™æ ·æ‰èƒ½ç¡®ä¿å¾®åº”ç”¨çœŸæ­£å…·å¤‡ ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹è¿è¡Œ çš„èƒ½åŠ›ã€‚</p> <h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="header-anchor">#</a> ç‰¹æ€§</h2> <ul><li>ğŸ“¦ åŸºäº single-spa å°è£…ï¼Œæä¾›äº†æ›´åŠ å¼€ç®±å³ç”¨çš„ APIã€‚</li> <li>ğŸ“± æŠ€æœ¯æ ˆæ— å…³ï¼Œä»»æ„æŠ€æœ¯æ ˆçš„åº”ç”¨å‡å¯ ä½¿ç”¨/æ¥å…¥ï¼Œä¸è®ºæ˜¯ React/Vue/Angular/JQuery è¿˜æ˜¯å…¶ä»–ç­‰æ¡†æ¶ã€‚</li> <li>ğŸ’ª HTML Entry æ¥å…¥æ–¹å¼ï¼Œè®©ä½ æ¥å…¥å¾®åº”ç”¨åƒä½¿ç”¨ iframe ä¸€æ ·ç®€å•ã€‚</li> <li>ğŸ›¡â€‹ æ ·å¼éš”ç¦»ï¼Œç¡®ä¿å¾®åº”ç”¨ä¹‹é—´æ ·å¼äº’ç›¸ä¸å¹²æ‰°ã€‚</li> <li>ğŸ§³ JS æ²™ç®±ï¼Œç¡®ä¿å¾®åº”ç”¨ä¹‹é—´ å…¨å±€å˜é‡/äº‹ä»¶ ä¸å†²çªã€‚</li> <li>âš¡ï¸ èµ„æºé¢„åŠ è½½ï¼Œåœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´é¢„åŠ è½½æœªæ‰“å¼€çš„å¾®åº”ç”¨èµ„æºï¼ŒåŠ é€Ÿå¾®åº”ç”¨æ‰“å¼€é€Ÿåº¦ã€‚</li> <li>ğŸ”Œ umi æ’ä»¶ï¼Œæä¾›äº† @umijs/plugin-qiankun ä¾› umi åº”ç”¨ä¸€é”®åˆ‡æ¢æˆå¾®å‰ç«¯æ¶æ„ç³»ç»Ÿã€‚</li></ul> <h2 id="qiankunä½¿ç”¨"><a href="#qiankunä½¿ç”¨" class="header-anchor">#</a> qiankunä½¿ç”¨</h2> <p>åœ¨ä½¿ç”¨qiankunå‰æˆ‘ä»¬å…ˆç”¨single-spaè¿™æ ·æ›´å®¹æ˜“ç†è§£ï¼Œ åªç”¨single-spaæœ‰å¾ˆå¤šç¼ºé™·ä¸å¤Ÿçµæ´»ã€ä¸èƒ½åŠ¨æ€åŠ è½½jsæ–‡ä»¶ã€æ ·å¼ä¸éš”ç¦»ã€æ²¡æœ‰jsæ²™ç®±çš„æœºåˆ¶ç­‰ï¼Œä½†æˆ‘ä»¬å¯ä»¥å…ˆå­¦ä¹ single-spaå†å»å†™qiankunä¼šæ›´ç®€å•</p> <h3 id="single-spaä½¿ç”¨"><a href="#single-spaä½¿ç”¨" class="header-anchor">#</a> single-spaä½¿ç”¨</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// parentåº”ç”¨</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> registerApplication<span class="token punctuation">,</span> start<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'single-spa'</span>

<span class="token function">registerApplication</span><span class="token punctuation">(</span><span class="token string">'myVueApp'</span><span class="token punctuation">,</span>
<span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">// await loadScript('http://localhost:10002/js/chunk-vendors.js')</span>
    <span class="token keyword">await</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'http://localhost:10001/app.js'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> window<span class="token punctuation">.</span>singleVue<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token parameter">location</span> <span class="token operator">=&gt;</span> location<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨æˆ·åˆ‡æ¢åˆ°/vue çš„è·¯å¾„ä¸‹ï¼Œæˆ‘éœ€è¦åŠ è½½åˆšæ‰å®šçš„çš„å­åº”ç”¨</span>
<span class="token comment">// {a: 1, b:2}</span>
<span class="token punctuation">)</span>

<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// npm install single-spa-vue --save</span>
<span class="token comment">// å­åº”ç”¨</span>
<span class="token keyword">import</span> singleSpaVue <span class="token keyword">from</span> <span class="token string">'single-spa-vue'</span>

<span class="token keyword">const</span> appOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#vue'</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‚è½½åˆ°çˆ¶åº”ç”¨ä¸­çš„idä¸ºvueçš„æ ‡ç­¾ä¸­</span>
  router<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// çˆ¶åº”ç”¨åŠ è½½å­åº”ç”¨</span>
<span class="token keyword">const</span> vueLifeCycle <span class="token operator">=</span> <span class="token function">singleSpaVue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  Vue<span class="token punctuation">,</span>
  appOptions
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// è¢«çˆ¶åº”ç”¨å¼•ç”¨ï¼Œä¿®æ”¹publicPath</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>singleSpaNavigate<span class="token punctuation">)</span><span class="token punctuation">{</span>
  __webpack_public_path__ <span class="token operator">=</span> <span class="token string">'http://localhost:10001/'</span>
<span class="token punctuation">}</span>
<span class="token comment">// å•ç‹¬è¿è¡Œé¡¹ç›®æ—¶</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>singleSpaNavigate<span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token keyword">delete</span> appOptions<span class="token punctuation">.</span>el<span class="token punctuation">;</span>
  <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>appOptions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//  åè®®æ¥å…¥ï¼Œ å®šä¹‰å¥½åè®®ï¼Œçˆ¶åº”ç”¨ä¼šè°ƒç”¨è¿™äº›æ–¹æ³•</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> bootstrap <span class="token operator">=</span> vueLifeCycle<span class="token punctuation">.</span>bootstrap<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> mount <span class="token operator">=</span> vueLifeCycle<span class="token punctuation">.</span>mount<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> unmount <span class="token operator">=</span> vueLifeCycle<span class="token punctuation">.</span>unmount<span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>çˆ¶ç»„ä»¶éœ€è¦åŠ è½½å­åº”ç”¨
// bootstrap mount unmount
// single-spa å¯ä»¥å®ç°è·¯ç”±åŠ«æŒå’Œåº”ç”¨åŠ è½½  single-spa-vue  single-spa-react</p></div> <h4 id="å°†å­åº”ç”¨æ‰“åŒ…æˆlibæä¾›ç»™çˆ¶åº”ç”¨"><a href="#å°†å­åº”ç”¨æ‰“åŒ…æˆlibæä¾›ç»™çˆ¶åº”ç”¨" class="header-anchor">#</a> å°†å­åº”ç”¨æ‰“åŒ…æˆlibæä¾›ç»™çˆ¶åº”ç”¨</h4> <p>åˆ›å»ºvue.config.js é…ç½®webpacké¡¹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  configureWebpack<span class="token operator">:</span> <span class="token punctuation">{</span>
    output<span class="token operator">:</span><span class="token punctuation">{</span>
      library<span class="token operator">:</span> <span class="token string">'singleVue'</span><span class="token punctuation">,</span>
      library<span class="token operator">:</span> <span class="token string">'umd'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    devServer<span class="token operator">:</span><span class="token punctuation">{</span>
      port<span class="token operator">:</span> <span class="token number">1000</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>æ‰“åŒ…åï¼Œæ˜¯window.singleVue.bootstrap/mount/unmount å¼•ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤º</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">registerApplication</span><span class="token punctuation">(</span><span class="token string">'myVueApp'</span><span class="token punctuation">,</span>
<span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">// await loadScript('http://localhost:10002/js/chunk-vendors.js')</span>
    <span class="token keyword">await</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'http://localhost:10001/app.js'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> window<span class="token punctuation">.</span>singleVue<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token parameter">location</span> <span class="token operator">=&gt;</span> location<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨æˆ·åˆ‡æ¢åˆ°/vue çš„è·¯å¾„ä¸‹ï¼Œæˆ‘éœ€è¦åŠ è½½åˆšæ‰å®šçš„çš„å­åº”ç”¨</span>
<span class="token comment">// {a: 1, b:2}</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="qiankunä½¿ç”¨-å¿«é€Ÿä¸Šæ‰‹"><a href="#qiankunä½¿ç”¨-å¿«é€Ÿä¸Šæ‰‹" class="header-anchor">#</a> qiankunä½¿ç”¨ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰</h3> <h4 id="_1-å®‰è£…-qiankun"><a href="#_1-å®‰è£…-qiankun" class="header-anchor">#</a> 1. å®‰è£… qiankun</h4> <div class="language- extra-class"><pre class="language-text"><code>$ yarn add qiankun # æˆ–è€… npm i qiankun -S
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>vue create qiankun-base // ä¸»åº”ç”¨
vue create qiankun-vue // vueå­åº”ç”¨
npx create-react-app qiankun-react // react å­åº”ç”¨
npm i element-ui -s // å¯ä»¥åœ¨vueåº”ç”¨ä¸­åŠ å…¥element-uiè¯•è¯•

yarn add react-app-rewired --save // reactå­åº”ç”¨ä¸­åŠ å…¥react-app-rewired æ¥åˆ‡æ¢çº¿è·¯ å®‰è£…è¿™ä¸ªå·¥å…·åï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»ºæ–‡ä»¶config-overrides.jsæ–‡ä»¶ã€‚æ­¤æ—¶æˆ‘ä»¬ä¾¿å¯ä»¥åœ¨å…¶ä¸­è¿›è¡Œå„ç§webpackçš„éªšæ“ä½œäº†~
</code></pre></div><p>æ·»åŠ æ–‡ä»¶config-overrides.js</p> <p>.env å¯é…ç½®reactç¯å¢ƒå˜é‡ ,æˆ‘åªé…ç½®äº†ç«¯å£å·</p> <div class="language- extra-class"><pre class="language-text"><code>PORT=20000
WDS_SOCKET_PORT=20000
</code></pre></div><h4 id="_2-åœ¨ä¸»åº”ç”¨ä¸­æ³¨å†Œå¾®åº”ç”¨"><a href="#_2-åœ¨ä¸»åº”ç”¨ä¸­æ³¨å†Œå¾®åº”ç”¨" class="header-anchor">#</a> 2. åœ¨ä¸»åº”ç”¨ä¸­æ³¨å†Œå¾®åº”ç”¨</h4> <div class="language-JAVASCRIPT extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> registerMicroApps<span class="token punctuation">,</span> start <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'qiankun'</span><span class="token punctuation">;</span>
<span class="token function">registerMicroApps</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'react app'</span><span class="token punctuation">,</span> <span class="token comment">// app name registered</span>
    entry<span class="token operator">:</span> <span class="token string">'//localhost:7100'</span><span class="token punctuation">,</span>
    container<span class="token operator">:</span> <span class="token string">'#yourContainer'</span><span class="token punctuation">,</span>
    activeRule<span class="token operator">:</span> <span class="token string">'/yourActiveRule'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'vue app'</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token punctuation">{</span> scripts<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'//localhost:7100/main.js'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    container<span class="token operator">:</span> <span class="token string">'#yourContainer2'</span><span class="token punctuation">,</span>
    activeRule<span class="token operator">:</span> <span class="token string">'/yourActiveRule2'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å½“å¾®åº”ç”¨ä¿¡æ¯æ³¨å†Œå®Œä¹‹åï¼Œä¸€æ—¦æµè§ˆå™¨çš„ url å‘ç”Ÿå˜åŒ–ï¼Œä¾¿ä¼šè‡ªåŠ¨è§¦å‘ qiankun çš„åŒ¹é…é€»è¾‘ï¼Œæ‰€æœ‰ activeRule è§„åˆ™åŒ¹é…ä¸Šçš„å¾®åº”ç”¨å°±ä¼šè¢«æ’å…¥åˆ°æŒ‡å®šçš„ container ä¸­ï¼ŒåŒæ—¶ä¾æ¬¡è°ƒç”¨å¾®åº”ç”¨æš´éœ²å‡ºçš„ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p> <p>å¦‚æœå¾®åº”ç”¨ä¸æ˜¯ç›´æ¥è·Ÿè·¯ç”±å…³è”çš„æ—¶å€™ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ‰‹åŠ¨åŠ è½½å¾®åº”ç”¨çš„æ–¹å¼ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> loadMicroApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'qiankun'</span><span class="token punctuation">;</span>
<span class="token function">loadMicroApp</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> 
    name<span class="token operator">:</span> <span class="token string">'app'</span><span class="token punctuation">,</span> 
    entry<span class="token operator">:</span> <span class="token string">'//localhost:7100'</span><span class="token punctuation">,</span>
    container<span class="token operator">:</span> <span class="token string">'#yourContainer'</span><span class="token punctuation">,</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="å¾®åº”ç”¨"><a href="#å¾®åº”ç”¨" class="header-anchor">#</a> å¾®åº”ç”¨</h4> <p>å¾®åº”ç”¨ä¸éœ€è¦é¢å¤–å®‰è£…ä»»ä½•å…¶ä»–ä¾èµ–å³å¯æ¥å…¥ qiankun ä¸»åº”ç”¨ã€‚</p> <h5 id="_1-å¯¼å‡ºç›¸åº”çš„ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#_1-å¯¼å‡ºç›¸åº”çš„ç”Ÿå‘½å‘¨æœŸé’©å­" class="header-anchor">#</a> 1. å¯¼å‡ºç›¸åº”çš„ç”Ÿå‘½å‘¨æœŸé’©å­</h5> <p>å¾®åº”ç”¨éœ€è¦åœ¨è‡ªå·±çš„å…¥å£ js (é€šå¸¸å°±æ˜¯ä½ é…ç½®çš„ webpack çš„ entry js) å¯¼å‡º bootstrapã€mountã€unmount ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä»¥ä¾›ä¸»åº”ç”¨åœ¨é€‚å½“çš„æ—¶æœºè°ƒç”¨ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * bootstrap åªä¼šåœ¨å¾®åº”ç”¨åˆå§‹åŒ–çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ï¼Œä¸‹æ¬¡å¾®åº”ç”¨é‡æ–°è¿›å…¥æ—¶ä¼šç›´æ¥è°ƒç”¨ mount é’©å­ï¼Œä¸ä¼šå†é‡å¤è§¦å‘ bootstrapã€‚
 * é€šå¸¸æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›å…¨å±€å˜é‡çš„åˆå§‹åŒ–ï¼Œæ¯”å¦‚ä¸ä¼šåœ¨ unmount é˜¶æ®µè¢«é”€æ¯çš„åº”ç”¨çº§åˆ«çš„ç¼“å­˜ç­‰ã€‚
 */</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'react app bootstraped'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * åº”ç”¨æ¯æ¬¡è¿›å…¥éƒ½ä¼šè°ƒç”¨ mount æ–¹æ³•ï¼Œé€šå¸¸æˆ‘ä»¬åœ¨è¿™é‡Œè§¦å‘åº”ç”¨çš„æ¸²æŸ“æ–¹æ³•
 */</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'react15Root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * åº”ç”¨æ¯æ¬¡ åˆ‡å‡º/å¸è½½ ä¼šè°ƒç”¨çš„æ–¹æ³•ï¼Œé€šå¸¸åœ¨è¿™é‡Œæˆ‘ä»¬ä¼šå¸è½½å¾®åº”ç”¨çš„åº”ç”¨å®ä¾‹
 */</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">unmountComponentAtNode</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'react15Root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * å¯é€‰ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä»…ä½¿ç”¨ loadMicroApp æ–¹å¼åŠ è½½å¾®åº”ç”¨æ—¶ç”Ÿæ•ˆ
 */</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'update props'</span><span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>qiankun åŸºäº single-spaï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨<a href="https://single-spa.js.org/docs/building-applications.html#registered-application-lifecycle" target="_blank" rel="noopener noreferrer">è¿™é‡Œ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ‰¾åˆ°æ›´å¤šå…³äºå¾®åº”ç”¨ç”Ÿå‘½å‘¨æœŸç›¸å…³çš„æ–‡æ¡£è¯´æ˜ã€‚</p> <p>æ—  webpack ç­‰æ„å»ºå·¥å…·çš„åº”ç”¨æ¥å…¥æ–¹å¼è¯·è§<a href="https://qiankun.umijs.org/zh/faq#%E9%9D%9E-webpack-%E6%9E%84%E5%BB%BA%E7%9A%84%E5%BE%AE%E5%BA%94%E7%94%A8%E6%94%AF%E6%8C%81%E6%8E%A5%E5%85%A5-qiankun-%E4%B9%88%EF%BC%9F" target="_blank" rel="noopener noreferrer">è¿™é‡Œ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h5 id="_2-é…ç½®å¾®åº”ç”¨çš„æ‰“åŒ…å·¥å…·"><a href="#_2-é…ç½®å¾®åº”ç”¨çš„æ‰“åŒ…å·¥å…·" class="header-anchor">#</a> 2. é…ç½®å¾®åº”ç”¨çš„æ‰“åŒ…å·¥å…·</h5> <p>é™¤äº†ä»£ç ä¸­æš´éœ²å‡ºç›¸åº”çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¹‹å¤–ï¼Œä¸ºäº†è®©ä¸»åº”ç”¨èƒ½æ­£ç¡®è¯†åˆ«å¾®åº”ç”¨æš´éœ²å‡ºæ¥çš„ä¸€äº›ä¿¡æ¯ï¼Œå¾®åº”ç”¨çš„æ‰“åŒ…å·¥å…·éœ€è¦å¢åŠ å¦‚ä¸‹é…ç½®ï¼š</p> <p>webpack:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> packageName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./package.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    library<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-[name]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    jsonpFunction<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">webpackJsonp_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ç›¸å…³é…ç½®ä»‹ç»å¯ä»¥æŸ¥çœ‹ <a href="https://webpack.js.org/configuration/output/#outputlibrary" target="_blank" rel="noopener noreferrer">webpack ç›¸å…³æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p></div></article> <section class="post-meta main-div" data-v-7f7ca342><section class="post-date clearfix" data-v-7f7ca342><span class="create-date" data-v-7f7ca342>
      å‘å¸ƒæ—¶é—´ : 2020-08-12
    </span> <span class="update-date" data-v-7f7ca342>
      æœ€åä¿®æ”¹ : 2020-09-01
    </span></section> <section class="post-links" data-v-7f7ca342><a href="/posts/2020/06/19/question-summary.html" class="post-link" data-v-7f7ca342>
      ä¸Šä¸€ç¯‡ : ç¦»çº¿å­˜å‚¨é‡åˆ°çš„é—®é¢˜
    </a> <a href="/posts/2020/09/04/diary.html" class="post-link" data-v-7f7ca342>
      ä¸‹ä¸€ç¯‡ : æœ€è¿‘æ€»æ˜¯åœ¨æ€è€ƒä¸€äº›äº‹æƒ…
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-0874e876><div class="info-card main-div" data-v-2bd66a30 data-v-0874e876><div class="info-card-header" data-v-2bd66a30><img src="https://blog.mamingjuan.cn/assets/images/avator.jpeg" alt="Glitr" class="info-avatar" data-v-2bd66a30></div> <div class="info-card-body" data-v-2bd66a30><section class="info-nickname" data-v-2bd66a30>
      Glitr
    </section> <section class="info-desc" data-v-2bd66a30>ç”Ÿå‘½å¦‚æ­¤çŸ­æš‚<br>å»æ‰©å±•ç”Ÿå‘½çš„å®½åº¦<br>å»ç»å†ã€å»ä½“éªŒ</section> <section class="info-contact" data-v-2bd66a30><section data-v-2bd66a30><span title="Beijing City, China" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>Beijing City, China</title><use xlink:href="#icon-location" data-v-2bd66a30 data-v-2bd66a30></use></svg><span class="info-text" data-v-2bd66a30 data-v-2bd66a30>
          Beijing City, China
        </span></span></section> <section data-v-2bd66a30><span title="Secrecy" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>Secrecy</title><use xlink:href="#icon-organization" data-v-2bd66a30 data-v-2bd66a30></use></svg><span class="info-text" data-v-2bd66a30 data-v-2bd66a30>
          Secrecy
        </span></span></section> <section data-v-2bd66a30><a href="mailto:glitteringma@gmail.com" title="glitteringma@gmail.com" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>glitteringma@gmail.com</title><use xlink:href="#icon-email" data-v-2bd66a30 data-v-2bd66a30></use></svg><span class="info-text" data-v-2bd66a30 data-v-2bd66a30>
          glitteringma@gmail.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-2bd66a30><section class="info-sns clearfix" data-v-2bd66a30><a href="https://github.com/glitzma" target="_blank" class="sns-link" data-v-2bd66a30><span title="GitHub: glitzma" class="sns-icon" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1.5em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>GitHub: glitzma</title><use xlink:href="#icon-github" data-v-2bd66a30 data-v-2bd66a30></use></svg></span></a><a href="https://twitter.com/x0BKGuGTNoqZ0F7" target="_blank" class="sns-link" data-v-2bd66a30><span title="Twitter: x0BKGuGTNoqZ0F7" class="sns-icon" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1.5em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>Twitter: x0BKGuGTNoqZ0F7</title><use xlink:href="#icon-twitter" data-v-2bd66a30 data-v-2bd66a30></use></svg></span></a><a href="https://www.instagram.com/glitz9558/?hl=en" target="_blank" class="sns-link" data-v-2bd66a30><span title="Instagram: glitz9558" class="sns-icon" data-v-2bd66a30 data-v-2bd66a30><svg class="icon" style="font-size:1.5em;" data-v-2bd66a30 data-v-2bd66a30><title data-v-2bd66a30 data-v-2bd66a30>Instagram: glitz9558</title><use xlink:href="#icon-instagram" data-v-2bd66a30 data-v-2bd66a30></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-0874e876><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>æ–‡ç« ç›®å½•</span> <div class="post-nav-toc"><ul><li><a href="/posts/2020/08/12/fe-microservices.html#ä»‹ç»">ä»‹ç»</a></li><li><a href="/posts/2020/08/12/fe-microservices.html#ä»€ä¹ˆæ˜¯å¾®å‰ç«¯">ä»€ä¹ˆæ˜¯å¾®å‰ç«¯</a></li><li><a href="/posts/2020/08/12/fe-microservices.html#qiankun-çš„æ ¸å¿ƒè®¾è®¡ç†å¿µ">qiankun çš„æ ¸å¿ƒè®¾è®¡ç†å¿µ</a></li><li><a href="/posts/2020/08/12/fe-microservices.html#ç‰¹æ€§">ç‰¹æ€§</a></li><li><a href="/posts/2020/08/12/fe-microservices.html#qiankunä½¿ç”¨">qiankunä½¿ç”¨</a><ul><li><a href="/posts/2020/08/12/fe-microservices.html#single-spaä½¿ç”¨">single-spaä½¿ç”¨</a></li><li><a href="/posts/2020/08/12/fe-microservices.html#qiankunä½¿ç”¨-å¿«é€Ÿä¸Šæ‰‹">qiankunä½¿ç”¨ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰</a></li></ul></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2020/08/12/fe-microservices.html#post-comments">
      è¯„è®º
    </a></div></div></aside></div> <footer class="footer" data-v-e361d3ee><p class="sns-links" data-v-e361d3ee><a href="https://github.com/glitzma" target="_blank" class="sns-link" data-v-e361d3ee><span title="GitHub: glitzma" class="sns-icon" data-v-e361d3ee data-v-e361d3ee><svg class="icon" style="font-size:25px;" data-v-e361d3ee data-v-e361d3ee><title data-v-e361d3ee data-v-e361d3ee>GitHub: glitzma</title><use xlink:href="#icon-github" data-v-e361d3ee data-v-e361d3ee></use></svg></span></a><a href="https://twitter.com/x0BKGuGTNoqZ0F7" target="_blank" class="sns-link" data-v-e361d3ee><span title="Twitter: x0BKGuGTNoqZ0F7" class="sns-icon" data-v-e361d3ee data-v-e361d3ee><svg class="icon" style="font-size:25px;" data-v-e361d3ee data-v-e361d3ee><title data-v-e361d3ee data-v-e361d3ee>Twitter: x0BKGuGTNoqZ0F7</title><use xlink:href="#icon-twitter" data-v-e361d3ee data-v-e361d3ee></use></svg></span></a><a href="https://www.instagram.com/glitz9558/?hl=en" target="_blank" class="sns-link" data-v-e361d3ee><span title="Instagram: glitz9558" class="sns-icon" data-v-e361d3ee data-v-e361d3ee><svg class="icon" style="font-size:25px;" data-v-e361d3ee data-v-e361d3ee><title data-v-e361d3ee data-v-e361d3ee>Instagram: glitz9558</title><use xlink:href="#icon-instagram" data-v-e361d3ee data-v-e361d3ee></use></svg></span></a></p> <p data-v-e361d3ee><span data-v-e361d3ee>Powered by </span> <a href="https://vuepress.vuejs.org" target="_blank" data-v-e361d3ee>
      Vuepress
    </a></p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app~d0ae3f07.061059e7.js" defer></script><script src="/assets/js/10.5446bb17.js" defer></script><script src="/assets/js/120.76a2763d.js" defer></script><script src="/assets/js/app~d939e436.8c4770b5.js" defer></script><script src="/assets/js/app~db300d2f.178ad997.js" defer></script>
  </body>
</html>
